{% extends "base.html" %}
{% block content %}

<h3 class="page-title">Edit Recipe</h3>

<div class="row">
    <form class="col s12" method="POST" action="{{ url_for('edit_recipe', recipe_id=recipe._id) }}">
        <!--Recipe Name-->
        <div class="row">
            <div class="input-field col s12">
              <input id="recipe_name" name="recipe_name" value="{{ recipe.recipe_name }}" type="text" class="validate" required>
              <label for="recipe_name">Recipe Name</label>
            </div>
        </div>
        <!--Tags (Make into array)-->
        <div class="row">
            <div class="input-field col s12">
                <textarea id="tags" name="tags" type="text" class="materialize-textarea array-string">
                    {{- recipe.tags -}}
                </textarea>
                <label for="tags">Tags</label>
            </div>
        </div>
         <!-- category selection -->
         <div class="row">
            <div class="input-field col s12">
                <select id="cuisine_id" name="cuisine_id" class="validate" required>
                    <option value="" disabled>Choose Cuisine</option>
                        {% for cuisine in cuisines %}
                            {% if cuisine.id == recipe.cuisine_id | int %}
                                <option value="{{ cuisine.id }}" selected>{{ cuisine.cuisine_name }}</option>
                            {% else %}
                                <option value="{{ cuisine.id }}">{{ cuisine.cuisine_name }}</option>
                            {% endif %}
                        {% endfor %}
                </select>
                <label for="cuisine_name">Cuisine</label>
            </div>
        </div>
        <!--Ingrediant list (Make into array?)-->
        <div class="row">
            <div class="input-field col s12">
                <textarea id="ingrediant_list" name="ingrediant_list" class="materialize-textarea array-string">
                   {{- recipe.ingrediant_list -}}
                </textarea>
                <label for="ingrediant_list">Ingrediant List</label>
            </div>
        </div>
        <!--Equipment list (Make into array?)-->
        <div class="row">
            <div class="input-field col s12">
                <textarea id="equipment_list" name="equipment_list"class="materialize-textarea array-string">
                    {{- recipe.equipment_list -}}
                </textarea>
                <label for="equipment_list">Equipment List</label>
            </div>
        </div>
        <!--Instructions-->
        <div class="row">
            <div class="input-field col s12">
                <textarea id="instructions" name="instructions" class="materialize-textarea array-string">
                    {{- recipe.instructions -}}
                </textarea>
                <label for="instructions">Instructions</label>
            </div>
        </div>
        <!--Difficulty (and smart select) and duration (and time picker)-->
        <div class="row">
            <div class="input-field col s12 m6">
                <input id="difficulty" name="difficulty" value="{{ recipe.difficulty }}" type="text" class="validate">
                <label for="difficulty">Difficulty</label>
            </div>
            <div class="input-field col s12 m6">
                <input id="duration" name="duration" value="{{ recipe.duration }}" type="text" class="validate">
                <label for="duration">Duration</label>
            </div>
        </div>
        <!--Serves (swap for number picker) and Cuisine-->
        <div class="row">
            <div class="input-field col s12 m6">
                <input id="serves" name="serves" value="{{ recipe.serves }}" type="text" class="validate">
                <label for="serves">Serves</label>
            </div>
            <div class="input-field col s12 m6">
                <input id="colour_code" name="colour_code" value="{{ recipe.colour_code }}" type="text" class="validate">
                <label for="colour_code">Colour</label>
            </div>
        </div>
        <!--URL-->
        <div class="row">
            <div class="input-field col s12">
                <input id="url" name="url" value="{{ recipe.url }}" type="text" class="validate">
                <label for="url">URL</label>
            </div>
        </div>
        <!--submit button-->
        <div class="row">
            <div class="col s12">
                <!--cancel button-->
                <a href="{{ url_for('dashboard', user_name=session['user']) }}" class="btn-large red text-shadow">Cancel</a>
                <button class="btn waves-effect waves-light" type="submit">
                    Edit Recipe
                </button>
            </div>
        </div>
    </form>
</div>

{% endblock %}